{"version":3,"sources":["write-map.js","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"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","file":"write-map.js.map","sourceRoot":"/source\\node/","sourcesContent":["import through from 'through2';\r\nimport cofs from 'co-fs';\r\nimport co from 'co';\r\nimport path from 'path';\r\nimport gutil from 'gulp-util';\r\n\r\nfunction writeMap(root, ext) {\r\n  if(!ext) {\r\n    ext = '.map';\r\n  }\r\n  return through.obj(function(file, enc, next) {\r\n    if (file.isNull()) {\r\n      return next();\r\n    } else if(file.sourceMap){\r\n      var sourceRoot = root ? root : file.sourceMap.sourceRoot;\r\n\r\n      //replace\r\n      if(sourceRoot !== file.sourceMap.sourceRoot) {\r\n        var nameCheck = new RegExp('^' + sourceRoot, 'i');\r\n        file.sourceMap.sources = file.sourceMap.sources.map(function (name) {\r\n          if(name[0] !== '/' && name[0] !== '@') {\r\n            return file.sourceMap.sourceRoot + name; \r\n          }else if(name.match(nameCheck)) {\r\n            return name.substring(sourceRoot.length);\r\n          } else {\r\n            return name;\r\n          }\r\n        \r\n        });\r\n        file.sourceMap.sourceRoot = sourceRoot;\r\n      }\r\n\r\n      var mapFile = new gutil.File({\r\n        base: file.base,\r\n        cwd: file.cwd,\r\n        path: file.path + ext,\r\n        contents: new Buffer(JSON.stringify(file.sourceMap))\r\n      });\r\n      this.push(file);\r\n      this.push(mapFile);\r\n    } else {\r\n      this.push(file);\r\n    }\r\n    next();\r\n  });\r\n\r\n}\r\n\r\nexport default writeMap;\r\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__default = $__placeholder__0"]}
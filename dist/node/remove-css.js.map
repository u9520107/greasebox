{"version":3,"sources":["remove-css.js","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"AAAA;ACAA,KAAK,iBAAiB,AAAC,CAAC,OAAM;SCA9B,EAAC,GAAE,YCAqB;AAAE,uBAAwB;IAAE,ADA9B,CAAC;AEAvB,WAAS,CCAT,EAAC,KAAI,CDAO,KAAG,ACAS,CAAC;CJAyB,CAAC;;;;EDA5C,QAAM,EMAb,EAAC,eAAoB,CAAA,OAAM,AAAC,YAAkB,CACtC,CAAA,gBAAqB,yBAA2B,CAAA,gBAAqB,GAAK,EAAC,OAAM,eAAmB,CAD9D,AAC+D,CAAC;ENAvG,OAAK,EMDZ,EAAC,aAAoB,CAAA,OAAM,AAAC,UAAkB,CACtC,CAAA,cAAqB,uBAA2B,CAAA,cAAqB,GAAK,EAAC,OAAM,aAAmB,CAD9D,AAC+D,CAAC;ENCvG,SAAO,EMFd,EAAC,mCAAoB,CAAA,OAAM,AAAC,0BAAkB,CACtC,CAAA,oCAAqB,6CAA2B,CAAA,oCAAqB,GAAK,EAAC,OAAM,mCAAmB,CAD9D,AAC+D,CAAC;ANO9G,OAAS,UAAQ,CAAC,AAAC,CAAE;AACnB,OAAO,CAAA,OAAM,IAAI,AAAC,CAAC,SAAS,IAAG,CAAG,CAAA,GAAE,CAAG,CAAA,IAAG,CAAG;AAC3C,MAAI;AACF,SAAI,IAAG,OAAO,AAAC,EAAC,CAAG;AACjB,aAAO,CAAA,IAAG,AAAC,EAAC,CAAC;MACf,KAAO,KAAG,IAAG,KAAK,MAAM,AAAC,CAAC,aAAY,CAAC,CAAE;AACvC,AAAI,UAAA,CAAA,GAAE,EAAI,CAAA,MAAK,MAAM,AAAC,CAAC,IAAG,SAAS,SAAS,AAAC,CAAC,GAAE,CAAC,CAAG,EAClD,cAAa,CAAG,CAAA,IAAG,SAAS,CAC9B,CAAC,CAAC;AACF,AAAI,UAAA,CAAA,IAAG,EAAI,GAAC,CAAC;AAGb,UAAE,QAAQ,KAAK,QAAQ,AAAC,CAAC,SAAS,IAAG,CAAG;AACtC,aAAI,IAAG,KAAK,IAAM,oBAAkB,CAAA,EAClC,CAAA,IAAG,OAAO,MAAM,MAAM,AAAC,CAAC,UAAS,CAAC,CAAG,GAAC,KAAO;AAC7C,eAAG,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;UACjB;AAAA,QACF,CAAC,CAAC;AACF,UAAE,QAAQ,KAAK,EAAI,KAAG,CAAC;AAEvB,AAAI,UAAA,CAAA,MAAK,EAAI,CAAA,MAAK,MAAM,AAAC,CAAC,GAAE,CAAG,EAC7B,aAAY,CAAG,CAAA,IAAG,SAAS,CAC7B,CAAC,CAAC;AAEF,WAAG,SAAS,EAAI,IAAI,OAAK,AAAC,CAAC,MAAK,KAAK,CAAC,CAAC;AACvC,WAAI,IAAG,UAAU,GAAK,CAAA,MAAK,IAAI,CAAG;AAChC,eAAK,IAAI,WAAW,EAAI,CAAA,IAAG,UAAU,CAAC;AACtC,iBAAO,AAAC,CAAC,IAAG,CAAG,CAAA,MAAK,IAAI,CAAC,CAAC;AAC1B,aAAG,UAAU,EAAI,eAAa,CAAC;QAEjC;AAAA,AAEA,WAAG,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;MACjB,KAAO;AACL,WAAG,KAAK,AAAC,CAAC,IAAG,CAAC,CAAC;MACjB;AAAA,AACA,SAAG,AAAC,EAAC,CAAC;IACR,CAAE,OAAO,GAAE,CAAG;AACZ,SAAG,AAAC,CAAC,GAAE,CAAC,CAAC;IACX;AAAA,EACF,CAAC,CAAC;AACJ;AOjDI,APiDJ,EOjDI,CAAA,UAAS,EPmDE,UOnDkB,APmDV,COnDU;APoDjC","file":"remove-css.js.map","sourceRoot":"/source\\node/","sourcesContent":["import through from 'through2';\r\nimport recast from 'recast';\r\nimport applyMap from 'vinyl-sourcemaps-apply';\r\n\r\n/**\r\n * @function\r\n *\r\n */\r\nfunction removeCss() {\r\n  return through.obj(function(file, enc, next) {\r\n    try {\r\n      if (file.isNull()) {\r\n        return next();\r\n      } else if(file.path.match(/\\.(js|jsx)$/)){\r\n        var ast = recast.parse(file.contents.toString(enc), {\r\n          sourceFileName: file.relative\r\n        });\r\n        var body = [];\r\n\r\n        //remove css imports\r\n        ast.program.body.forEach(function(part) {\r\n          if (part.type === 'ImportDeclaration' &&\r\n            part.source.value.match(/\\.css!$/i)) {} else {\r\n            body.push(part);\r\n          }\r\n        });\r\n        ast.program.body = body;\r\n\r\n        var output = recast.print(ast, {\r\n          sourceMapName: file.relative\r\n        });\r\n\r\n        file.contents = new Buffer(output.code);\r\n        if (file.sourceMap && output.map) {\r\n          output.map.sourceRoot = file.buildStep;\r\n          applyMap(file, output.map);\r\n          file.buildStep = '@remove-css/';\r\n\r\n        }\r\n        \r\n        this.push(file);\r\n      } else {\r\n        this.push(file);\r\n      }\r\n      next();\r\n    } catch (err) {\r\n      next(err);\r\n    }\r\n  });\r\n}\r\n\r\nexport default removeCss;\r\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__default = $__placeholder__0"]}
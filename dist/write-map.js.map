{"version":3,"sources":["write-map.js","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/1"],"names":[],"mappings":"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","file":"write-map.js.map","sourceRoot":"/source/","sourcesContent":["import through from 'through2';\nimport path from 'path';\nimport gutil from 'gulp-util';\n\nfunction writeMap(root, ext) {\n  if(!ext) {\n    ext = '.map';\n  }\n  return through.obj(function(file, enc, next) {\n    if (file.isNull()) {\n      return next();\n    } else if(file.sourceMap){\n      var sourceRoot = root ? root : file.sourceMap.sourceRoot;\n\n      //replace\n      if(sourceRoot !== file.sourceMap.sourceRoot) {\n        var nameCheck = new RegExp('^' + escapeRegExp(sourceRoot));\n        file.sourceMap.sources = file.sourceMap.sources.map(function (name) {\n          if(name[0] !== '/' && name[0] !== '@') {\n            return file.sourceMap.sourceRoot + name; \n          }else if(name.match(nameCheck)) {\n            return name.substring(sourceRoot.length);\n          } else {\n            return name;\n          }\n        \n        });\n        file.sourceMap.sourceRoot = sourceRoot;\n      }\n\n      var mapFile = new gutil.File({\n        base: file.base,\n        cwd: file.cwd,\n        path: file.path + ext,\n        contents: new Buffer(JSON.stringify(file.sourceMap))\n      });\n      this.push(file);\n      this.push(mapFile);\n    } else {\n      this.push(file);\n    }\n    next();\n  });\n\n}\n\n/**\n *  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n */\nfunction escapeRegExp(string){\n  return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n}\n\nexport default writeMap;\n","Object.defineProperties(exports, $__placeholder__0);","{get: $__placeholder__0}","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true","{value: $__placeholder__0}","($__placeholder__0 = require($__placeholder__1),\n        $__placeholder__2 && $__placeholder__3.__esModule && $__placeholder__4 || {default: $__placeholder__5})","var $__default = $__placeholder__0"]}